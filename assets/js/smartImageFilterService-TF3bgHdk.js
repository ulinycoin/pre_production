var S=Object.defineProperty;var A=(_,o,i)=>o in _?S(_,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):_[o]=i;var M=(_,o,i)=>A(_,typeof o!="symbol"?o+"":o,i);const t={ICON_MAX_SIZE:128,LOGO_MAX_WIDTH:400,LOGO_MAX_HEIGHT:200,PHOTO_MIN_SIZE:200,CHART_MIN_SIZE:300,ICON_MAX_MEGAPIXELS:.02,PHOTO_MIN_MEGAPIXELS:.05,CHART_MIN_MEGAPIXELS:.1,SQUARE_ASPECT_MIN:.9,SQUARE_ASPECT_MAX:1.1,LOGO_ASPECT_MIN:2,BANNER_ASPECT_MIN:3,ICON_MAX_SIZE_BYTES:51200,PHOTO_MIN_SIZE_BYTES:102400},E=class E{static getInstance(){return this.instance||(this.instance=new E),this.instance}analyzeImages(o){const i=performance.now(),a=o.map(e=>this.categorizeImage(e)),c=new Map;a.forEach(e=>{c.has(e.category)||c.set(e.category,[]),c.get(e.category).push(e)});const n=[],l={photo:{label:"Photos",icon:"ðŸ“·"},chart:{label:"Charts & Graphs",icon:"ðŸ“Š"},logo:{label:"Logos",icon:"ðŸ¢"},icon:{label:"Icons & Buttons",icon:"ðŸ”˜"},decoration:{label:"Decorations",icon:"âœ¨"},other:{label:"Other",icon:"ðŸ–¼ï¸"}};["photo","chart","logo","icon","decoration","other"].forEach(e=>{const s=c.get(e)||[];s.length>0&&n.push({category:e,label:l[e].label,icon:l[e].icon,images:s,count:s.length})});const I=a.filter(e=>e.isLikelyUseful),r=a.filter(e=>!e.isLikelyUseful);return{totalImages:o.length,categories:n,usefulImages:I,likelyJunk:r,analysisTime:performance.now()-i}}categorizeImage(o){const{width:i,height:a,size:c}=o,n=i/a,l=i*a/1e6,I=Math.max(i,a),r=Math.min(i,a);let e="other",s=.5;return I<=t.ICON_MAX_SIZE&&l<=t.ICON_MAX_MEGAPIXELS&&n>=t.SQUARE_ASPECT_MIN&&n<=t.SQUARE_ASPECT_MAX?(e="icon",s=.9):I<=t.ICON_MAX_SIZE&&c<=t.ICON_MAX_SIZE_BYTES?(e="decoration",s=.85):n>=t.BANNER_ASPECT_MIN?(e="decoration",s=.8):n>=t.LOGO_ASPECT_MIN&&i<=t.LOGO_MAX_WIDTH&&a<=t.LOGO_MAX_HEIGHT?(e="logo",s=.75):l>=t.PHOTO_MIN_MEGAPIXELS?c>=t.PHOTO_MIN_SIZE_BYTES&&o.format==="jpg"?(e="photo",s=.85):l>=t.CHART_MIN_MEGAPIXELS&&o.format==="png"&&r>=t.CHART_MIN_SIZE&&c<t.PHOTO_MIN_SIZE_BYTES?(e="chart",s=.7):c>=t.PHOTO_MIN_SIZE_BYTES/2?(e="photo",s=.75):(e="other",s=.6):n>=t.SQUARE_ASPECT_MIN&&n<=t.SQUARE_ASPECT_MAX&&r>=t.PHOTO_MIN_SIZE?(e="logo",s=.65):r>=t.PHOTO_MIN_SIZE?(e="other",s=.5):(e="decoration",s=.6),{...o,category:e,confidence:s,aspectRatio:n,megapixels:l,isLikelyUseful:e==="photo"||e==="chart"}}getFilterPresets(){return[{id:"photos-only",label:"Photos Only",icon:"ðŸ“·",description:"Select only high-quality photos",filter:o=>o.category==="photo"},{id:"useful",label:"Useful Images",icon:"â­",description:"Photos and charts (excluding icons/decorations)",filter:o=>o.isLikelyUseful},{id:"large",label:"Large Images",icon:"ðŸ–¼ï¸",description:"Images larger than 0.1 megapixels",filter:o=>o.megapixels>=.1},{id:"charts",label:"Charts & Graphs",icon:"ðŸ“Š",description:"Select charts and diagrams",filter:o=>o.category==="chart"},{id:"exclude-icons",label:"No Icons",icon:"ðŸš«",description:"Exclude small icons and buttons",filter:o=>o.category!=="icon"&&o.category!=="decoration"}]}};M(E,"instance");let h=E;const T=h.getInstance();export{T as s};
