import{e as y,J as C,u as z,r as w,j as e,a as r,aq as b,ar as D,as as P,at as E,au as j,ak as M}from"./index-BaqsOxPK.js";import{L as l}from"./FileUpload-DUSj1Bnl.js";import{D as d}from"./download-0nOk4Jfy.js";const $=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],k=y("droplet",$),I=({toolId:u,onDownload:c,children:s,className:o,showWatermarkLabel:x=!1,label:g,watermarkLabel:p})=>{const{status:i,isPremium:f}=C(),{t:a}=z(),[t,v]=w.useState(()=>l.getRemainingProDownloads(i)),N=l.isProTool(u);w.useEffect(()=>{const n=()=>{v(l.getRemainingProDownloads(i))};return window.addEventListener("localpdf:limits_updated",n),()=>window.removeEventListener("localpdf:limits_updated",n)},[i]);const m=()=>{(t>0||f)&&(l.recordDownload(u,i,!1),c(!1))},h=()=>{c(!0)},_=n=>{n.preventDefault(),n.stopPropagation(),window.location.hash="#upgrade"};if(!N||f){const n=()=>c(!1);return s?e.jsx("div",{onClick:n,className:o,children:s}):e.jsxs(r,{onClick:n,className:`${o} h-11 rounded-xl`,children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),g||a("common.download")]})}return t===0&&x?e.jsxs(r,{onClick:h,className:`${o} bg-ocean-600 hover:bg-ocean-700 text-white shadow-lg h-11 rounded-xl font-bold`,children:[e.jsx(d,{className:"mr-2 h-4 w-4 text-ocean-200"}),p||a("monetization.download_with_watermark")]}):t===0&&!x?e.jsxs(r,{onClick:_,className:`${o} bg-amber-500 hover:bg-amber-600 text-white shadow-lg h-11 rounded-xl font-bold`,title:a("monetization.daily_limit_reached"),children:[e.jsx(b,{className:"mr-2 h-4 w-4 fill-current"}),a("monetization.upgrade_to_download")]}):x?s?e.jsxs(D,{children:[e.jsx(P,{asChild:!0,children:e.jsxs("div",{className:"relative inline-block cursor-pointer group",children:[s,e.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-accent-blue text-white text-[9px] font-black min-w-[16px] h-[16px] flex items-center justify-center rounded-full shadow-sm z-10 border border-white dark:border-gray-900 animate-in zoom-in-50 duration-300",children:t})]})}),e.jsxs(E,{align:"end",className:"w-72 glass-premium dark:glass-premium-dark border-ocean-200/20 p-2 shadow-2xl",children:[e.jsxs(j,{onClick:m,className:"flex items-center gap-3 p-3 cursor-pointer rounded-xl focus:bg-green-50 dark:focus:bg-green-900/20 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600",children:e.jsx(b,{className:"w-5 h-5 fill-current"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold text-sm text-gray-900 dark:text-gray-100",children:a("monetization.download_pro_clean")}),e.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:a("monetization.daily_free_downloads_left",{count:t})})]}),e.jsx(M,{className:"ml-auto w-4 h-4 text-green-500 opacity-0 group-hover:opacity-100"})]}),e.jsx("div",{className:"h-px bg-gray-100 dark:bg-gray-800 my-1 mx-2"}),e.jsxs(j,{onClick:h,className:"flex items-center gap-3 p-3 cursor-pointer rounded-xl focus:bg-ocean-50 dark:focus:bg-ocean-900/20 transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-ocean-100 dark:bg-ocean-900/30 flex items-center justify-center text-ocean-600",children:e.jsx(k,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-bold text-sm text-gray-900 dark:text-gray-100",children:a("monetization.download_with_watermark")}),e.jsx("span",{className:"text-[10px] text-green-600 dark:text-green-400 font-black uppercase tracking-wider",children:a("monetization.features.unlimited")})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(r,{onClick:m,className:`${o} bg-ocean-600 hover:bg-ocean-700 text-white shadow-lg relative h-11 rounded-xl group transition-all active:scale-95 px-6`,children:[e.jsx(d,{className:"mr-3 h-5 w-5"}),e.jsx("span",{className:"font-bold text-sm transition-transform group-hover:-translate-x-1",children:a("monetization.download_pro_clean")}),e.jsx("span",{className:"ml-3 bg-white/20 text-white text-[10px] font-black min-w-[20px] h-[20px] flex items-center justify-center rounded-full backdrop-blur-md",children:t})]}),e.jsxs(r,{onClick:h,variant:"ghost",className:"h-11 px-6 rounded-xl text-ocean-600 dark:text-ocean-400 hover:bg-ocean-50 dark:hover:bg-ocean-900/20 font-bold transition-all active:scale-95 border-2 border-transparent hover:border-ocean-100 dark:hover:border-ocean-900/40",children:[e.jsx(k,{className:"mr-2 h-5 w-5 opacity-70"}),p||a("monetization.download_with_watermark")]})]}):e.jsxs(r,{onClick:m,className:`${o} bg-green-600 hover:bg-green-700 text-white shadow-lg relative h-11 rounded-xl`,title:a("monetization.daily_free_downloads_left",{count:t}),children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),g||a("common.download"),e.jsx("span",{className:"absolute -top-1.5 -right-2 bg-accent-blue text-white text-[9px] font-black px-1.5 py-0.5 rounded-full shadow-sm border border-white dark:border-gray-900",children:t})]})};export{I as D};
