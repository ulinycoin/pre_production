import{u as De,b as Me,r as c,p as f,j as e,a as d,D as de,f as pe,g as ge,h as me,i as he,L as E,k as B,H as xe,t as b}from"./index-ByNlfbxM.js";import{F as Te}from"./FileUpload-vqoJmZZ0.js";import{T as _e,C as Re}from"./ToolLayout-CEHQ6Lwh.js";import{P as H}from"./PDFPreview-DeEpfSjx.js";import{T as Ie,a as Le,b as Ee}from"./tabs-DSPryEzR.js";import{C as Be}from"./checkbox-D18Jwqrr.js";import{s as He}from"./smartOrganizeService-A4xCQtas.js";import"./vendor-react-CTjRfaZN.js";import"./vendor-pdfjs-BlOy0ZkI.js";import"./vendor-pdf-lib-CZHCEpXA.js";import"./vendor-word-CeUssL8V.js";import"./vendor-ocr-CTFn7PEu.js";import"./index-NZhszMUr.js";const ss=()=>{const{t:r}=De(),{sharedFile:z,clearSharedFile:O,setSharedFile:se}=Me(),[n,N]=c.useState(null),[m,Z]=c.useState("all"),[v,P]=c.useState(!1),[p,F]=c.useState([]),[ue,W]=c.useState(!1),[ae,te]=c.useState(!1),[fe,g]=c.useState(0),[be,h]=c.useState(""),[M,ye]=c.useState(1),[q,U]=c.useState(1),[A,je]=c.useState(1),[re,T]=c.useState(""),[_,R]=c.useState([]),[le,ne]=c.useState(!1),[w,I]=c.useState(new Set),[k,G]=c.useState(new Set),[y,Q]=c.useState(null),[C,V]=c.useState(null),[u,$]=c.useState(new Set);c.useEffect(()=>{if(z&&!n&&p.length===0){const s=new File([z.blob],z.name,{type:"application/pdf"}),a={id:`${Date.now()}`,file:s,name:z.name,size:s.size,status:"pending"};N(a),W(!0),f.getPDFInfo(s).then(t=>{N(l=>l?{...l,info:t,status:"completed"}:null),U(t.pages)}).catch(()=>{N(t=>t?{...t,status:"error",error:"Failed to read PDF"}:null)}),O()}},[z,n,p,O]);const ie=async s=>{const a=s[0];if(!a)return;const t={id:`${Date.now()}`,file:a,name:a.name,size:a.size,status:"pending"};N(t),F([]),R([]),I(new Set),$(new Set);try{const l=await f.getPDFInfo(a);N(i=>i?{...i,info:l,status:"completed"}:null),U(l.pages)}catch{N(l=>l?{...l,status:"error",error:"Failed to read PDF"}:null)}},Ne=()=>{N(null),F([]),R([]),I(new Set)},oe=async()=>{if(n){ne(!0),g(0),h("");try{const s=await He.analyzeDocument(n.file,(a,t)=>{g(a),h(t)});s.chapters.length>0?(R(s.chapters),I(new Set(s.chapters.map((a,t)=>t))),b.success(`${s.chapters.length} ${s.chapters.length===1?"chapter":"chapters"} detected!`)):(b.info("No chapters detected. Try another split mode."),R([]))}catch(s){b.error("Failed to analyze document structure"),console.error(s)}finally{ne(!1),g(0),h("")}}},ve=(s,a)=>{const t=new Set,l=s.split(",").map(i=>i.trim());for(const i of l)if(i.includes("-")){const[o,x]=i.split("-").map(S=>parseInt(S.trim()));if(!isNaN(o)&&!isNaN(x))for(let S=Math.max(1,o);S<=Math.min(a,x);S++)t.add(S)}else{const o=parseInt(i);!isNaN(o)&&o>=1&&o<=a&&t.add(o)}return Array.from(t).sort((i,o)=>i-o)},we=async()=>{if(n){P(!0),g(0),F([]);try{let s=[];if(m==="all"){const a=await f.splitPDF(n.file,"pages",{pages:[]},(t,l)=>{g(t),h(l)});a.success&&a.data&&(s=a.data.map((t,l)=>({blob:t,pageNumbers:[l+1],index:l})))}else if(m==="range"){const a=await f.splitPDF(n.file,"range",{start:M,end:q},(t,l)=>{g(t),h(l)});a.success&&a.data&&(s=[{blob:a.data[0],pageNumbers:Array.from({length:q-M+1},(t,l)=>M+l),index:0}])}else if(m==="intervals"){const a=await f.splitPDF(n.file,"intervals",{interval:A},(t,l)=>{g(t),h(l)});if(a.success&&a.data){const t=n.info?.pages||0;s=a.data.map((l,i)=>{const o=i*A+1,x=Math.min((i+1)*A,t);return{blob:l,pageNumbers:Array.from({length:x-o+1},(S,ee)=>o+ee),index:i}})}}else if(m==="custom"){const a=n.info?.pages||0,t=ve(re,a);if(t.length===0){b.error("Please enter valid page numbers"),P(!1);return}g(20),h(`Extracting ${t.length} pages...`);const l=await f.splitPDF(n.file,"custom",{pages:t},(i,o)=>{g(i),h(o)});l.success&&l.data&&(s=l.data.map((i,o)=>({blob:i,pageNumbers:[t[o]],index:o})))}else if(m==="by-structure"){if(w.size===0){b.error("Please select at least one chapter to split"),P(!1);return}const a=Array.from(w).sort((t,l)=>t-l).map(t=>_[t]);g(10),h("Splitting by chapters...");for(let t=0;t<a.length;t++){const l=a[t],i=l.endPage||n.info?.pages||0;g(10+t/a.length*80),h(`Processing: ${l.title}`);const o=Array.from({length:i-l.startPage+1},(S,ee)=>l.startPage+ee),x=await f.splitPDF(n.file,"custom",{pages:o},()=>{});x.success&&x.data&&x.data[0]&&s.push({blob:x.data[0],pageNumbers:o,index:t,chapterTitle:l.title})}g(95)}F(s),b.success("PDF split successfully!")}catch(s){b.error("An error occurred during split"),console.error(s)}finally{P(!1)}}},J=s=>{let a;if(s.chapterTitle){const t=s.chapterTitle.replace(/[^a-zA-Z0-9Ð°-ÑÐ-Ð¯Ñ‘Ð\s-]/g,"").replace(/\s+/g,"_").slice(0,50);a=n?.name.replace(".pdf",`_${t}.pdf`)||`${t}.pdf`}else{const t=s.pageNumbers.length===1?`page-${s.pageNumbers[0]}`:`pages-${s.pageNumbers[0]}-${s.pageNumbers[s.pageNumbers.length-1]}`;a=n?.name.replace(".pdf",`_${t}.pdf`)||`split_${t}.pdf`}f.downloadFile(s.blob,a)},ke=()=>{p.forEach((s,a)=>{setTimeout(()=>{J(s)},a*200)})},Se=async()=>{if(!(p.length===0||!n)){te(!0),g(0);try{const s=p.map(l=>{const i=l.pageNumbers.length===1?`page-${l.pageNumbers[0]}`:`pages-${l.pageNumbers[0]}-${l.pageNumbers[l.pageNumbers.length-1]}`,o=n.name.replace(".pdf",`_${i}.pdf`)||`split_${i}.pdf`;return{blob:l.blob,filename:o}}),t=`${n.name.replace(".pdf","")||"split-pdf"}_split.zip`;await f.downloadAsZip(s,t,(l,i)=>{g(l),h(i)}),b.success("Archive downloaded successfully!")}catch(s){b.error("Failed to create archive"),console.error(s)}finally{te(!1),g(0),h("")}}},K=s=>{G(a=>{const t=new Set(a);t.has(s)?t.delete(s):t.add(s);const l=Array.from(t).sort((i,o)=>i-o);return T(l.join(", ")),t.size>0&&m!=="custom"&&Z("custom"),t})},Pe=()=>{if(!n?.info?.pages)return;const s=new Set(Array.from({length:n.info.pages},(a,t)=>t+1));G(s),T(`1-${n.info.pages}`),m!=="custom"&&Z("custom")},Ce=()=>{G(new Set),T("")},ze=()=>{N(null),F([]),g(0),h(""),W(!1),$(new Set)},Fe=s=>{const a=new Set(u);a.has(s)?a.delete(s):a.add(s),$(a)},Ae=()=>{u.size===p.length?$(new Set):$(new Set(p.map((s,a)=>a)))},ce=async s=>{let a;if(u.size===0?a=p:a=Array.from(u).sort((l,i)=>l-i).map(l=>p[l]),a.length===1){const t=a[0],l=n?.name.replace(".pdf",`_page-${t.pageNumbers[0]}.pdf`)||"split-page.pdf";se(t.blob,l,"split-pdf"),await new Promise(i=>setTimeout(i,100)),window.location.hash=xe[s];return}P(!0),g(0),h(r("split.mergingSelected"));try{const l=a.map(o=>o.blob).map((o,x)=>new File([o],`page-${x+1}.pdf`,{type:"application/pdf"})),i=await f.mergePDFs(l,(o,x)=>{g(o),h(x)});if(i.success&&i.data){const o=u.size===0?n?.name.replace(".pdf","_all-pages.pdf")||"all-pages.pdf":n?.name.replace(".pdf","_selected-pages.pdf")||"selected-pages.pdf";se(i.data,o,"split-pdf"),await new Promise(x=>setTimeout(x,100)),window.location.hash=xe[s]}else b.error(r("split.mergeFailed"))}catch(t){console.error("Failed to merge pages:",t),b.error(r("split.mergeFailed"))}finally{P(!1),g(0),h("")}},j=n?.info?.pages||1,X=12,[D,Y]=c.useState(1),L=Math.ceil(p.length/X),$e=p.slice((D-1)*X,D*X);return c.useEffect(()=>{Y(1)},[p.length]),e.jsxs(_e,{title:r("tools.split-pdf.name"),description:r("tools.split-pdf.description"),hasFiles:!!n,isProcessing:v,progress:fe,progressMessage:be,onUpload:s=>ie(s),uploadContent:e.jsx(Te,{accept:".pdf",multiple:!1,onFilesSelected:ie,maxSizeMB:100,disabled:v,title:r("common.selectFile"),description:r("upload.singleFileAllowed")}),sidebarWidth:"lg:w-96",settings:n&&p.length===0?e.jsxs("div",{className:"space-y-6 animate-slide-up",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white uppercase tracking-wider opacity-70",children:r("split.selectMode")}),e.jsx(Ie,{value:m,onValueChange:s=>Z(s),className:"w-full",children:e.jsx(Le,{className:"grid grid-cols-2 gap-2 h-auto bg-transparent p-0",children:[{id:"all",icon:"ðŸ“„",label:r("split.mode.all.name")},{id:"range",icon:"ðŸ“‘",label:r("split.mode.range.name")},{id:"intervals",icon:"ðŸ“š",label:r("split.mode.intervals.name")},{id:"custom",icon:"ðŸŽ¯",label:r("split.mode.custom.name")},{id:"by-structure",icon:"âœ¨",label:r("split.mode.byStructure.name")}].map(s=>e.jsxs(Ee,{value:s.id,disabled:v,className:`flex items-center justify-start gap-2 px-3 py-2.5 rounded-xl border transition-all text-sm
                                 data-[state=active]:bg-ocean-600 data-[state=active]:text-white data-[state=active]:border-ocean-600 data-[state=active]:shadow-md
                                 bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-300
                                 hover:border-ocean-300 dark:hover:border-ocean-700`,children:[e.jsx("span",{className:"text-base",children:s.icon}),e.jsx("span",{className:"font-medium truncate",children:s.label})]},s.id))})}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 bg-ocean-50/50 dark:bg-ocean-900/10 p-2.5 rounded-lg border border-ocean-100/50 dark:border-ocean-800/50 leading-relaxed",children:[m==="all"&&r("split.mode.all.description"),m==="range"&&r("split.mode.range.description"),m==="intervals"&&r("split.mode.intervals.description"),m==="custom"&&r("split.mode.custom.description"),m==="by-structure"&&r("split.mode.byStructure.description")]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-200 dark:via-gray-800 to-transparent my-4"}),m==="range"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸ“‘"})," ",r("split.rangeSettings")]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:r("split.startPage")}),e.jsx(B,{type:"number",min:1,max:j,value:M,onChange:s=>ye(Math.max(1,Math.min(j,parseInt(s.target.value)||1))),disabled:v})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:r("split.endPage")}),e.jsx(B,{type:"number",min:1,max:j,value:q,onChange:s=>U(Math.max(1,Math.min(j,parseInt(s.target.value)||1))),disabled:v})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r("split.rangeHint",{total:String(j)})})]}),m==="intervals"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸ“š"})," ",r("split.intervalSettings")]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:r("split.pagesPerFile")}),e.jsx(B,{type:"number",min:1,max:j,value:A,onChange:s=>je(Math.max(1,Math.min(j,parseInt(s.target.value)||1))),disabled:v})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r("split.intervalHint",{files:Math.ceil(j/A),total:j})})]}),m==="custom"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"ðŸŽ¯"})," ",r("split.customSettings")]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{children:r("split.pageNumbers")}),e.jsx(B,{type:"text",placeholder:"e.g., 1,3,5-7,10",value:re,onChange:s=>T(s.target.value),disabled:v})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r("split.customHint")})]}),m==="by-structure"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:"âœ¨"})," ",r("split.structureSettings")]}),_.length===0?e.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-dashed border-gray-300 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:r("split.analyzeFirst")}),e.jsx(d,{onClick:oe,disabled:le,variant:"outline",className:"w-full",children:r(le?"split.analyzing":"split.analyzeButton")})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:r("split.chaptersDetected",{count:_.length})}),e.jsx(d,{variant:"ghost",size:"sm",onClick:oe,className:"h-auto p-0 text-ocean-600",children:r("split.reanalyze")})]}),e.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-2",children:_.map((s,a)=>e.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${w.has(a)?"bg-ocean-50 border-ocean-200 dark:bg-ocean-900/20 dark:border-ocean-800":"bg-white border-gray-200 dark:bg-gray-800 dark:border-gray-700 hover:border-gray-300"}`,onClick:()=>{const t=new Set(w);t.has(a)?t.delete(a):t.add(a),I(t)},children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`mt-1 w-4 h-4 rounded border flex items-center justify-center ${w.has(a)?"bg-ocean-500 border-ocean-500":"border-gray-400"}`,children:w.has(a)&&e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-white",children:s.title}),e.jsx("p",{className:"text-xs text-gray-500",children:r("split.pageRange",{start:s.startPage,end:s.endPage||j})})]})]})},a))})]})]})]}):null,actions:n?e.jsx("div",{className:"space-y-3",children:p.length===0?e.jsx(d,{onClick:we,disabled:v||m==="by-structure"&&w.size===0,className:"w-full text-lg py-6 shadow-lg shadow-ocean-500/20 bg-ocean-500 hover:bg-ocean-600 text-white",size:"lg",children:r(v?"common.processing":"split.splitButton")}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-400 font-medium mb-1",children:[e.jsx("span",{className:"text-xl",children:"âœ“"}),r("split.success.title")]}),e.jsx("p",{className:"text-sm text-green-600 dark:text-green-500",children:r("split.success.filesCreated",{count:p.length})})]}),e.jsx(d,{onClick:ke,className:"w-full",variant:"default",children:r("split.downloadAll")}),p.length>1&&e.jsx(d,{onClick:Se,disabled:ae,className:"w-full",variant:"outline",children:r(ae?"common.processing":"split.downloadAsZip")}),e.jsx(d,{onClick:ze,className:"w-full",variant:"ghost",children:r("split.splitAnother")})]})}):null,children:[ue&&n&&e.jsxs("div",{className:"mb-6 bg-ocean-50 dark:bg-ocean-900/20 border border-ocean-200 dark:border-ocean-800 rounded-lg p-4 flex items-center justify-between animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:"âœ¨"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-ocean-700 dark:text-ocean-300",children:r("split.autoLoaded.title")}),e.jsx("p",{className:"text-sm text-ocean-600 dark:text-ocean-400",children:r("split.autoLoaded.description")})]})]}),e.jsx(d,{onClick:()=>{O(),N(null),W(!1)},variant:"ghost",size:"sm",children:"âœ•"})]}),n&&p.length===0?e.jsx("div",{className:"space-y-6 animate-slide-up",children:e.jsxs("div",{className:"bg-gray-50/50 dark:bg-gray-900/20 rounded-[2rem] p-6 border border-gray-200/50 dark:border-gray-800/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("span",{children:"ðŸ“„"})," ",n.name]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r("split.totalPages"),": ",n.info?.pages||0," â€¢ ",f.formatFileSize(n.size)]})]}),e.jsxs("div",{className:"flex items-center gap-2 border-l border-gray-200 dark:border-gray-800 pl-6",children:[e.jsx(d,{variant:"ghost",size:"sm",onClick:Pe,className:"text-xs font-semibold hover:bg-ocean-50 dark:hover:bg-ocean-900/20 text-ocean-600",children:r("split.selectAll")}),e.jsx(d,{variant:"ghost",size:"sm",onClick:Ce,className:"text-xs font-semibold hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-500",children:r("split.clearSelection")})]})]}),e.jsx(d,{variant:"outline",size:"sm",onClick:Ne,className:"rounded-full border-red-200 text-red-500 hover:bg-red-50 hover:text-red-600 dark:border-red-900/30 dark:hover:bg-red-900/20",children:r("split.changeFile")})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6 max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar p-2",children:Array.from({length:n.info?.pages||0}).map((s,a)=>e.jsx("div",{className:"flex flex-col items-center gap-2 group cursor-pointer",onClick:()=>K(a+1),children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute -inset-1 bg-gradient-to-br from-ocean-400 to-purple-400 rounded-xl blur-[2px] transition-opacity duration-300 ${k.has(a+1)?"opacity-40":"opacity-0 group-hover:opacity-20"}`}),e.jsxs("div",{className:`relative transition-all duration-300 ${k.has(a+1)?"scale-[0.98] -translate-y-0.5":"group-hover:-translate-y-1"}`,children:[e.jsx(H,{file:n.file,pageNumber:a+1,width:140,height:190,className:`shadow-sm border transition-all duration-300 ${k.has(a+1)?"border-ocean-500 ring-2 ring-ocean-500/20 shadow-md":"border-gray-100 dark:border-gray-800"}`}),e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx(Be,{checked:k.has(a+1),className:"bg-white/90 border-gray-300 data-[state=checked]:bg-ocean-500 data-[state=checked]:border-ocean-500 shadow-sm",onCheckedChange:()=>K(a+1)})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-black/5 rounded-lg",children:e.jsx(d,{size:"icon",variant:"secondary",className:"h-9 w-9 rounded-full shadow-lg bg-white/90 hover:bg-white text-ocean-600",onClick:t=>{t.stopPropagation(),Q(a+1)},children:e.jsx("span",{className:"text-xl",children:"ðŸ”"})})}),e.jsx("div",{className:`absolute top-2 right-2 flex items-center justify-center min-w-[24px] h-6 px-1.5 text-[10px] font-bold rounded-full shadow-lg ring-2 ring-white dark:ring-gray-900 transition-colors ${k.has(a+1)?"bg-ocean-500 text-white":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-300"}`,children:a+1})]})]})},a+1))})]})}):p.length>0?e.jsxs("div",{className:"space-y-6 animate-slide-up",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[r("split.outputFiles")," (",p.length,")"]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(d,{variant:"outline",size:"sm",onClick:Ae,children:u.size===p.length?r("split.deselectAll"):r("split.selectAll")})})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:$e.map(s=>e.jsxs(Re,{className:`
                         group relative p-4 transition-all hover:shadow-md cursor-pointer border-2
                         ${u.has(s.index)?"border-ocean-500 bg-ocean-50/50 dark:bg-ocean-900/10":"border-transparent hover:border-gray-200 dark:hover:border-gray-700"}
                      `,onClick:()=>Fe(s.index),children:[e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx("div",{className:`
                            w-5 h-5 rounded border flex items-center justify-center transition-colors
                            ${u.has(s.index)?"bg-ocean-500 border-ocean-500":"bg-white/80 border-gray-400"}
                         `,children:u.has(s.index)&&e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsx("div",{className:"absolute top-3 right-3 z-10 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2",children:e.jsx(d,{size:"icon",variant:"secondary",className:"h-8 w-8 rounded-full shadow-sm bg-white/90 hover:bg-white",onClick:a=>{a.stopPropagation(),V(s)},children:e.jsx("span",{className:"text-lg",children:"ðŸ”"})})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"mb-3 p-2 bg-gray-100 dark:bg-gray-800 rounded",children:e.jsx(H,{blob:s.blob,width:120,height:160})}),e.jsx("p",{className:"font-medium text-center text-sm truncate w-full mb-1",children:s.chapterTitle||(s.pageNumbers.length===1?`${r("split.pageNumber",{page:s.pageNumbers[0]})}`:`${r("split.pageRange",{start:s.pageNumbers[0],end:s.pageNumbers[s.pageNumbers.length-1]})}`)}),e.jsxs("p",{className:"text-xs text-gray-500 mb-3",children:[s.pageNumbers.length," ",s.pageNumbers.length===1?r("split.pageCountSingle"):r("split.pages")]}),e.jsx(d,{size:"sm",variant:"secondary",className:"w-full",onClick:a=>{a.stopPropagation(),J(s)},children:r("common.download")})]})]},s.index))}),L>1&&e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-6",children:[e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>Y(s=>Math.max(1,s-1)),disabled:D===1,children:["â† ",r("common.previous")]}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400 font-medium",children:[D," / ",L]}),e.jsxs(d,{variant:"outline",size:"sm",onClick:()=>Y(s=>Math.min(L,s+1)),disabled:D===L,children:[r("common.next")," â†’"]})]}),u.size>0&&e.jsxs("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 rounded-full shadow-xl border border-gray-200 dark:border-gray-700 p-2 flex items-center gap-2 animate-slide-up z-50",children:[e.jsx("div",{className:"px-3 font-medium text-sm",children:r("split.selectedCount",{count:u.size})}),e.jsx("div",{className:"h-6 w-px bg-gray-200 dark:bg-gray-700 mx-1"}),e.jsxs(d,{size:"sm",variant:"ghost",onClick:()=>ce("merge-pdf"),className:"rounded-full",children:["ðŸ”— ",r("split.quickActions.merge")]}),e.jsxs(d,{size:"sm",variant:"ghost",onClick:()=>ce("compress-pdf"),className:"rounded-full",children:["ðŸ“‰ ",r("split.quickActions.compress")]})]})]}):null,e.jsx(de,{open:!!C,onOpenChange:s=>!s&&V(null),children:e.jsxs(pe,{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs(ge,{children:[e.jsx(me,{children:C?.chapterTitle||r("split.previewTitle")}),e.jsx(he,{className:"sr-only",children:r("split.pagePreview")})]}),e.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[C&&e.jsx(H,{blob:C.blob,width:600,height:800,className:"shadow-xl"}),e.jsxs("div",{className:"flex gap-4 mt-6 w-full max-w-sm",children:[e.jsx(d,{className:"flex-1",onClick:()=>C&&J(C),children:r("common.download")}),e.jsx(d,{variant:"outline",className:"flex-1",onClick:()=>V(null),children:r("common.close")})]})]})]})}),e.jsx(de,{open:!!y,onOpenChange:s=>!s&&Q(null),children:e.jsxs(pe,{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs(ge,{children:[e.jsxs(me,{children:[r("split.pagePreview")," ",y]}),e.jsx(he,{className:"sr-only",children:r("split.pagePreview")})]}),e.jsxs("div",{className:"flex flex-col items-center p-4 bg-gray-50 dark:bg-gray-900 rounded-lg",children:[y&&n&&e.jsx(H,{file:n.file,pageNumber:y,width:600,height:800,className:"shadow-xl"}),e.jsxs("div",{className:"flex gap-4 mt-6 w-full max-w-sm",children:[e.jsx(d,{className:"flex-1",onClick:()=>y&&K(y),variant:y&&k.has(y)?"outline":"default",children:y&&k.has(y)?r("split.deselectPage"):r("split.selectPage")}),e.jsx(d,{variant:"outline",className:"flex-1",onClick:()=>Q(null),children:r("common.close")})]})]})]})})]})};export{ss as SplitPDF};
